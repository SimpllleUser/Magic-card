var ut=Object.defineProperty;var dt=(e,t,a)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var R=(e,t,a)=>dt(e,typeof t!="symbol"?t+"":t,a);import{v as pe,a7 as ct,L as ve,M as ce,a8 as ze,c as V,a9 as fe,am as $e,b as u,m as A,y as mt,r as P,aU as pt,bd as vt,F as X,a2 as ft,be as ht,j as Vt,aW as bt,an as gt,bf as wt,aK as yt,av as Ct,ag as He,ak as z,bg as xt,ad as ge,b2 as kt,bh as St,al as he,bi as $t,aP as _t,aD as At,ah as C,u as b,d as U,o as h,a as D,w,ae as Ft,f as k,e as N,g as Y,h as q,t as H,a5 as G,q as B,at as Pt,b7 as Bt,bj as Te,_ as Ge,I as Dt,C as we,V as ye,bk as ne,a6 as Q,s as Ue,T as Rt,bl as Tt,n as Ut,p as Et,P as Nt}from"./index-20hxo3DR.js";import{j as _e,k as Ot,u as Ae,l as I,i as Ee,n as Mt,o as Lt,p as Wt,q as Ne,d as jt,r as zt,e as Ht,s as Gt,g as qe,h as Ze,f as qt}from"./VSelect-CEzDh_Fk.js";import{g as Xe}from"./forwardRefs-DwILkz7f.js";import{_ as Zt}from"./BaseModal.vue_vue_type_script_setup_true_lang-B0Qh8Zv6.js";import{a as Xt,M as Ve}from"./modals-C4dAcI15.js";import{V as se,a as Ce}from"./VRow-DpctLBQc.js";const Yt=pe({..._e(),...ct(Ot(),["inline"])},"VCheckbox"),Ye=ve()({name:"VCheckbox",inheritAttrs:!1,props:Yt(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:a,slots:i}=t;const l=ce(e,"modelValue"),{isFocused:s,focus:r,blur:d}=Ae(e),o=ze(),n=V(()=>e.id||`checkbox-${o}`);return fe(()=>{const[m,v]=$e(a),p=I.filterProps(e),y=Ee.filterProps(e);return u(I,A({class:["v-checkbox",e.class]},m,p,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,id:n.value,focused:s.value,style:e.style}),{...i,default:c=>{let{id:g,messagesId:F,isDisabled:_,isReadonly:E,isValid:M}=c;return u(Ee,A(y,{id:g.value,"aria-describedby":F.value,disabled:_.value,readonly:E.value},v,{error:M.value===!1,modelValue:l.value,"onUpdate:modelValue":ee=>l.value=ee,onFocus:r,onBlur:d}),i)}})}),{}}}),Kt=pe({...mt(),...Mt()},"VForm"),Jt=ve()({name:"VForm",props:Kt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:i}=t;const l=Lt(e),s=P();function r(o){o.preventDefault(),l.reset()}function d(o){const n=o,m=l.validate();n.then=m.then.bind(m),n.catch=m.catch.bind(m),n.finally=m.finally.bind(m),i("submit",n),n.defaultPrevented||m.then(v=>{var y;let{valid:p}=v;p&&((y=s.value)==null||y.submit())}),n.preventDefault()}return fe(()=>{var o;return u("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:r,onSubmit:d},[(o=a.default)==null?void 0:o.call(a,l)])}),Xe(l,s)}}),Qt=pe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},..._e(),...Wt()},"VSwitch"),It=ve()({name:"VSwitch",inheritAttrs:!1,props:Qt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:a,slots:i}=t;const l=ce(e,"indeterminate"),s=ce(e,"modelValue"),{loaderClasses:r}=pt(e),{isFocused:d,focus:o,blur:n}=Ae(e),m=P(),v=vt&&window.matchMedia("(forced-colors: active)").matches,p=V(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=ze(),c=V(()=>e.id||`switch-${y}`);function g(){l.value&&(l.value=!1)}function F(_){var E,M;_.stopPropagation(),_.preventDefault(),(M=(E=m.value)==null?void 0:E.input)==null||M.click()}return fe(()=>{const[_,E]=$e(a),M=I.filterProps(e),ee=Ne.filterProps(e);return u(I,A({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":l.value},r.value,e.class]},_,M,{modelValue:s.value,"onUpdate:modelValue":te=>s.value=te,id:c.value,focused:d.value,style:e.style}),{...i,default:te=>{let{id:L,messagesId:K,isDisabled:le,isReadonly:W,isValid:T}=te;const f={model:s,isValid:T};return u(Ne,A({ref:m},ee,{modelValue:s.value,"onUpdate:modelValue":[S=>s.value=S,g],id:L.value,"aria-describedby":K.value,type:"checkbox","aria-checked":l.value?"mixed":void 0,disabled:le.value,readonly:W.value,onFocus:o,onBlur:n},E),{...i,default:S=>{let{backgroundColorClasses:$,backgroundColorStyles:x}=S;return u("div",{class:["v-switch__track",v?void 0:$.value],style:x.value,onClick:F},[i["track-true"]&&u("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](f)]),i["track-false"]&&u("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](f)])])},input:S=>{let{inputNode:$,icon:x,backgroundColorClasses:J,backgroundColorStyles:ae}=S;return u(X,null,[$,u("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":x||e.loading},e.inset||v?void 0:J.value],style:e.inset?void 0:ae.value},[i.thumb?u(ft,{defaults:{VIcon:{icon:x,size:"x-small"}}},{default:()=>[i.thumb({...f,icon:x})]}):u(ht,null,{default:()=>[e.loading?u(bt,{name:"v-switch",active:!0,color:T.value===!1?void 0:p.value},{default:Z=>i.loader?i.loader(Z):u(gt,{active:Z.isActive,color:Z.color,indeterminate:!0,size:"16",width:"2"},null)}):x&&u(Vt,{key:String(x),icon:x,size:"x-small"},null)]})])])}})}})}),{}}}),el=pe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,..._e(),...jt()},"VTextarea"),Ke=ve()({name:"VTextarea",directives:{Intersect:wt},inheritAttrs:!1,props:el(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:i,slots:l}=t;const s=ce(e,"modelValue"),{isFocused:r,focus:d,blur:o}=Ae(e),n=V(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),m=V(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function v(f,S){var $,x;!e.autofocus||!f||(x=($=S[0].target)==null?void 0:$.focus)==null||x.call($)}const p=P(),y=P(),c=yt(""),g=P(),F=V(()=>e.persistentPlaceholder||r.value||e.active);function _(){var f;g.value!==document.activeElement&&((f=g.value)==null||f.focus()),r.value||d()}function E(f){_(),i("click:control",f)}function M(f){i("mousedown:control",f)}function ee(f){f.stopPropagation(),_(),he(()=>{s.value="",$t(e["onClick:clear"],f)})}function te(f){var $;const S=f.target;if(s.value=S.value,($=e.modelModifiers)!=null&&$.trim){const x=[S.selectionStart,S.selectionEnd];he(()=>{S.selectionStart=x[0],S.selectionEnd=x[1]})}}const L=P(),K=P(+e.rows),le=V(()=>["plain","underlined"].includes(e.variant));Ct(()=>{e.autoGrow||(K.value=+e.rows)});function W(){e.autoGrow&&he(()=>{if(!L.value||!y.value)return;const f=getComputedStyle(L.value),S=getComputedStyle(y.value.$el),$=parseFloat(f.getPropertyValue("--v-field-padding-top"))+parseFloat(f.getPropertyValue("--v-input-padding-top"))+parseFloat(f.getPropertyValue("--v-field-padding-bottom")),x=L.value.scrollHeight,J=parseFloat(f.lineHeight),ae=Math.max(parseFloat(e.rows)*J+$,parseFloat(S.getPropertyValue("--v-input-control-height"))),Z=parseFloat(e.maxRows)*J+$||1/0,j=At(x??0,ae,Z);K.value=Math.floor((j-$)/J),c.value=_t(j)})}He(W),z(s,W),z(()=>e.rows,W),z(()=>e.maxRows,W),z(()=>e.density,W);let T;return z(L,f=>{f?(T=new ResizeObserver(W),T.observe(L.value)):T==null||T.disconnect()}),xt(()=>{T==null||T.disconnect()}),fe(()=>{const f=!!(l.counter||e.counter||e.counterValue),S=!!(f||l.details),[$,x]=$e(a),{modelValue:J,...ae}=I.filterProps(e),Z=zt(e);return u(I,A({ref:p,modelValue:s.value,"onUpdate:modelValue":j=>s.value=j,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":le.value},e.class],style:e.style},$,ae,{centerAffix:K.value===1&&!le.value,focused:r.value}),{...l,default:j=>{let{id:de,isDisabled:Pe,isDirty:Be,isReadonly:st,isValid:ot}=j;return u(Ht,A({ref:y,style:{"--v-textarea-control-height":c.value},onClick:E,onMousedown:M,"onClick:clear":ee,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Z,{id:de.value,active:F.value||Be.value,centerAffix:K.value===1&&!le.value,dirty:Be.value||e.dirty,disabled:Pe.value,focused:r.value,error:ot.value===!1}),{...l,default:rt=>{let{props:{class:De,...Re}}=rt;return u(X,null,[e.prefix&&u("span",{class:"v-text-field__prefix"},[e.prefix]),ge(u("textarea",A({ref:g,class:De,value:s.value,onInput:te,autofocus:e.autofocus,readonly:st.value,disabled:Pe.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:_,onBlur:o},Re,x),null),[[kt("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&ge(u("textarea",{class:[De,"v-textarea__sizer"],id:`${Re.id}-sizer`,"onUpdate:modelValue":nt=>s.value=nt,ref:L,readonly:!0,"aria-hidden":"true"},null),[[St,s.value]]),e.suffix&&u("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:S?j=>{var de;return u(X,null,[(de=l.details)==null?void 0:de.call(l,j),f&&u(X,null,[u("span",null,null),u(Gt,{active:e.persistentCounter||r.value,value:n.value,max:m.value,disabled:e.disabled},l.counter)])])}:void 0})}),Xe({},p,y,g)}}),tl=e=>C.has(e,"isCustomInput"),Je=(e,t)=>{tl(e)&&t(e),typeof e=="object"&&e!==null&&C.forOwn(e,a=>{Je(a,t)})},Qe=(e,t,a)=>{e&&typeof e=="object"&&C.forOwn(e,i=>{if(i&&typeof i=="object"){const l=i[t];typeof l=="function"?a(l.call(i)):Qe(i,t,a)}})};function Oe(e){const t=C.cloneDeep(e),a=P(e),i=c=>{const g=b(a);C.forOwn(g,F=>{Je(F,_=>{c(_)})})},l=c=>{i(g=>{g.canValidate=c})},s=()=>{l(!0),i(c=>{c.isValid()})},r=()=>{l(!1),i(c=>{c.resetValue()})},d=()=>{a.value=C.cloneDeep(t),l(!1)},o=V(()=>{const c=[];return Qe(a.value,"isValid",g=>{c.push(g)}),c.every(Boolean)}),n=c=>{s(),c(o.value)},m=c=>c!=null&&c.action?c.action:O.None,v=c=>m(c)===O.None;return{form:a,validate:s,clearForm:r,resetForm:d,submitForm:n,getActionStates:c=>({isActionNone:v(c),action:m(c)}),getAction:m,isActionNone:v,getValue:()=>Object.fromEntries(Object.entries(a.value).map(([c,g])=>[c,g.getValue?g==null?void 0:g.getValue():g])),isValid:o}}var O=(e=>(e.Save="Save",e.Create="Create",e.None="None",e))(O||{}),ue=(e=>(e.Primary="primary",e.Secondary="secondary",e.Accent="accent",e.Error="error",e.Info="info",e.Success="success",e.Warning="warning",e))(ue||{}),xe=(e=>(e.XSmall="x-small",e.Small="small",e.Default="default",e.Large="large",e.XLarge="x-large",e))(xe||{}),me=(e=>(e.Text="text",e.Contained="contained",e.Outlined="outlined",e.Flat="flat",e.Raised="raised",e.Plain="plain",e.Rounded="rounded",e.Shaped="shaped",e))(me||{});const ll={class:"form-body"},al={class:"actions"},il=U({__name:"BaseForm",props:{config:{},params:{default:{action:O.None}},buttonCreate:{default:()=>({color:ue.Primary,variant:me.Flat})},buttonCancel:{default:()=>({color:ue.Primary,variant:me.Outlined})}},emits:["on-submit"],setup(e,{emit:t}){const a=t,i=e,l=P(Oe(i.config));z(()=>i.config,o=>{l.value=Oe(o)},{deep:!0});const s=o=>{a("on-submit",{value:l.value.getValue(),isValid:o,...l.value.getActionStates(i.params)})};He(()=>{l.value.resetForm()});const r=V(()=>l.value.getAction((i==null?void 0:i.params)||{})),d=V(()=>!l.value.isActionNone((i==null?void 0:i.params)||{}));return(o,n)=>(h(),D(Jt,{onSubmit:n[1]||(n[1]=Ft(()=>{},["prevent"]))},{default:w(()=>[k("div",ll,[N(o.$slots,"default",{form:l.value.form})]),k("div",al,[N(o.$slots,"actions",{},()=>[d.value?(h(),D(Y,{key:0,color:o.buttonCreate.color,variant:o.buttonCreate.variant,onClick:n[0]||(n[0]=m=>l.value.submitForm(s))},{default:w(()=>[q(H(r.value),1)]),_:1},8,["color","variant"])):G("",!0),d.value?(h(),D(Y,{key:1,class:"ml-6",color:o.buttonCancel.color,variant:o.buttonCancel.variant,onClick:l.value.resetForm},{default:w(()=>n[2]||(n[2]=[q("Cancel ")])),_:1},8,["color","variant","onClick"])):G("",!0)])])]),_:3}))}}),sl={key:0,class:"v-label"},ol={"aria-live":"polite",class:"v-messages mt-1",role:"alert"},rl={key:0,class:"v-messages__message mt-2"},nl={key:0,class:"v-messages__message text-error mt-2"},ul=U({__name:"InputForm",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:r=>i("update:modelValue",r)}),s=V(()=>!l.value.isValid()||l.value.hint);return(r,d)=>(h(),B(X,null,[l.value.label?(h(),B("label",sl,H(l.value.label),1)):G("",!0),(h(),D(Pt(l.value.component),A({modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=o=>l.value=o)},r.$attrs),null,16,["modelValue"])),N(r.$slots,"info",{errors:l.value.getErrors(),hint:l.value.hint,isValid:l.value.isValid()},()=>[ge(k("div",ol,[u(Te,null,{default:w(()=>[N(r.$slots,"hint",{hint:l.value.hint},()=>[l.value.hint?(h(),B("div",rl,H(l.value.hint),1)):G("",!0)],!0)]),_:3}),u(Te,null,{default:w(()=>[N(r.$slots,"errors",{errors:l.value.getErrors(),isValid:l.value.isValid()},()=>[l.value.isValid()?G("",!0):(h(),B("div",nl,H(l.value.getErrors()),1))],!0)]),_:3})],512),[[Bt,s.value]])],!0)],64))}}),ke=Ge(ul,[["__scopeId","data-v-411b56d2"]]),be={after:({value:e,after:t})=>new Date(e)>new Date(t)||`Дата должна быть после ${t}`,alpha:({value:e})=>/^[A-Za-zА-Яа-яЁё]+$/.test(e)||"Только буквы допустимы",alphaDash:({value:e})=>/^[A-Za-zА-Яа-яЁё0-9_-]+$/.test(e)||"Разрешены только буквы, цифры, дефисы и подчеркивания",alphaNum:({value:e})=>/^[A-Za-zА-Яа-яЁё0-9]+$/.test(e)||"Разрешены только буквы и цифры",alphaSpaces:({value:e})=>/^[A-Za-zА-Яа-яЁё\s]+$/.test(e)||"Разрешены только буквы и пробелы",before:({value:e,before:t})=>new Date(e)<new Date(t)||`Дата должна быть до ${t}`,between:({value:e,min:t,max:a})=>{const i=Number(e);return i>=Number(t)&&i<=Number(a)||`Значение должно быть между ${t} и ${a}`},confirmed:({value:e,confirmed:t})=>e===t||"Значения не совпадают",creditCard:({value:e})=>/^\d{4}-\d{4}-\d{4}-\d{4}$/.test(e)||"Неверный формат номера кредитной карты",dateBetween:({value:e,startDate:t,endDate:a})=>new Date(e)>=new Date(t)&&new Date(e)<=new Date(a)||`Дата должна быть между ${t} и ${a}`,decimal:({value:e})=>/^\d+(\.\d{1,2})?$/.test(e)||"Неверный формат числа",digits:({value:e})=>/^\d+$/.test(e)||"Только цифры допустимы",image:({value:e})=>{var i;const t=["jpg","jpeg","png","gif"],a=(i=e.name.split(".").pop())==null?void 0:i.toLowerCase();return t.includes(a||"")||"Разрешены только файлы изображений (jpg, jpeg, png, gif)"},included:({value:e,list:t})=>t.includes(e)||"Значение не включено в список",integer:({value:e})=>Number.isInteger(Number(e))||"Должно быть целым числом",ip:({value:e})=>/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(e)||"Неверный формат IP-адреса",ipOrFqdn:({value:e})=>{const t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a=/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return t.test(e)||a.test(e)||"Неверный формат IP-адреса или доменного имени"},is:({value:e,is:t})=>e===t||"Значение не соответствует требуемому",isNot:({value:e,isNot:t})=>e!==t||"Значение совпадает с запрещенным",length:({value:e,length:t})=>e.length===Number(t)||`Длина должна быть равной ${t}`,max:({value:e,max:t})=>Number(e)<=t||`Значение должно быть меньше или равно ${t}`,min:({value:e,min:t})=>e>=t||`Значение должно быть больше или равно ${t}`,mimes:({value:e,mimes:t})=>{var l;const a=t.split(","),i=(l=e.name.split(".").pop())==null?void 0:l.toLowerCase();return a.includes(e.type)||a.includes(i||"")||`Допустимые типы файлов: ${t}`},numeric:({value:e})=>!Number.isNaN(parseFloat(e))&&Number.isFinite(Number(e))||"Должно быть числом",regex:({value:e,regex:t})=>t.test(e)||"Неверный формат",required:({value:e})=>!!(e!=null&&e.length)||!!e||"Обязательное поле",requiredIf:({value:e,requiredIf:t})=>t?!!e||"Обязательное поле":!0,size:({value:e,size:t})=>e.size<=t||`Размер файла должен быть не более ${t} байт`,url:({value:e})=>/^(https?:\/\/)?([\w-]+\.)+[\w-]+(\/[\w- .\\/?%&=]*)?$/.test(e)||"Неверный формат URL-адреса"};class Ie{constructor(t){this.validationRules=t||{}}isValidationRule(t){return be[t]&&typeof be[t]=="function"}checkRuleByValue(t,{ruleValue:a,ruleKey:i}){return this.isValidationRule(i)?be[i]({[i]:a,value:t}):!1}isValid(t){return Object.values(C.mapValues(this.validationRules,(a,i)=>this.checkRuleByValue(t,{ruleValue:a,ruleKey:i}))).every(C.isBoolean)}getErrors(t){return Object.values(C.mapValues(this.validationRules,(a,i)=>this.checkRuleByValue(t,{ruleValue:a,ruleKey:i}))).filter(C.isString)[0]}}const ie={value:"",label:"",placeholder:"",hint:"",rules:{}};class Fe{constructor(t=ie){this.isCustomInput=!0,this.hint=ie.hint,this.label=ie.label,this.placeholder=ie.label,this.rules=ie.rules,this.allowValidate=!1,this.hint=(t==null?void 0:t.hint)||"",this.label=(t==null?void 0:t.label)||"",this.placeholder=(t==null?void 0:t.placeholder)||(t==null?void 0:t.label)||"",this.rules=t.rules||{},this.inputValidator=new Ie(this.rules)}getValue(){throw new Error("Should been implemented getValue")}isValid(){return this.allowValidate?this.inputValidator.isValid(this.getValue()):!0}set canValidate(t){this.allowValidate=t}resetValue(){throw Error("Should been implemented resetValue")}}const dl="Enter custom separator",Me=[{label:" - ",value:"-"},{label:"<space>",value:" "},{label:",",value:","},{label:";",value:";"},{label:":",value:":"},{label:".",value:"."},{label:"New row",value:`
`},{label:"Tab",value:"		"}],cl={class:"flex"},ml={key:0,class:"full-width"},pl={key:1,class:"full-width"},Le=U({__name:"InputSeparatedSymbol",props:{modelValue:{},label:{default:"Separated symbol"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=d=>{i("update:modelValue",d)},s=V({get:()=>a.modelValue,set:d=>{l(typeof d=="object"&&"value"in d?d.value:d)}}),r=P(!1);return z(()=>r.value,d=>{s.value=d?"":Me[0].value}),(d,o)=>(h(),B("div",null,[k("div",null,[k("div",null,[u(Ye,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=n=>r.value=n),class:"pl-0","hide-details":"",label:"Use custom"},null,8,["modelValue"])])]),k("div",cl,[r.value?(h(),B("div",ml,[u(qe,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=n=>s.value=n),filled:"",label:b(dl)},null,8,["modelValue","label"])])):(h(),B("div",pl,[u(Ze,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=n=>s.value=n),class:"selector-separated-symbol",filled:"","item-title":"label","item-value":"value",items:b(Me),label:d.label},null,8,["modelValue","items","label"])]))])]))}}),We=(e,t)=>e.split(t),vl={class:"full-width"},fl={class:"d-flex items-center justify-center"},hl=U({__name:"index",emits:["set-words"],setup(e,{emit:t}){const a=t,i=P([]),l=P(""),s=P(","),r=P("-");z(()=>[l.value,s.value,r.value],()=>{i.value=We(l.value,s.value).map(o=>We(o,r.value)).map(o=>o.length<=2?o:[o[0],o.slice(1).join(r.value)])});const d=V(()=>new Array(3).fill(null).map((o,n)=>`Word-${n+1}${r.value}Definition-${n+1}`).join(s.value));return(o,n)=>(h(),B("div",vl,[u(Ce,null,{default:w(()=>[u(se,null,{default:w(()=>[u(Le,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=m=>s.value=m),label:"Separated to rows"},null,8,["modelValue"])]),_:1}),u(se,null,{default:w(()=>[u(Le,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=m=>r.value=m),label:"Separated to words of row"},null,8,["modelValue"])]),_:1})]),_:1}),u(Ce,null,{default:w(()=>[u(se,null,{default:w(()=>[q(H(b(d))+" ",1),u(Ke,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=m=>l.value=m),"auto-grow":!0,placeholder:b(d),rows:5},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),k("div",fl,[u(Y,{"append-icon":b(Dt).ArrowDown,color:b(we).Primary,variant:b(ye).Outlined,onClick:n[3]||(n[3]=m=>a("set-words",i.value))},{default:w(()=>n[4]||(n[4]=[q(" Add all words ")])),_:1},8,["append-icon","color","variant"])])]))}}),Vl=U({__name:"BaseInputText",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:r=>i("update:modelValue",r)}),s=r=>{const d=r.target;l.value.value=d.value};return(r,d)=>(h(),D(qe,A({modelValue:l.value.value,"onUpdate:modelValue":d[0]||(d[0]=o=>l.value.value=o),"append-inner-icon":l.value.appendInnerIcon,clearable:l.value.clearable},r.$attrs,{"hide-details":"",placeholder:l.value.placeholder,suffix:l.value.suffix,type:l.value.type,value:l.value.value,onInput:s}),null,16,["modelValue","append-inner-icon","clearable","placeholder","suffix","type","value"]))}});class et extends Fe{constructor(t){super(t),this.component=ne(Vl),this.value="",this.type="text",this.allowValidate=!1,this.clearable=!1,this.appendInnerIcon=null,this.value=(t==null?void 0:t.value)??"",this.clearable=(t==null?void 0:t.clearable)??!1,this.appendInnerIcon=(t==null?void 0:t.appendInnerIcon)||null,this.suffix=(t==null?void 0:t.suffix)||"",this.inputValidator=new Ie(this.rules)}set canValidate(t){this.allowValidate=t}getValue(){return this.value??""}isValid(){return this.allowValidate?this.inputValidator.isValid(this.getValue()):!0}getErrors(){return this.allowValidate?this.inputValidator.getErrors(this.getValue()):""}setComponent(t){return this.component=ne(t),this}}const bl=e=>new et(e),gl=U({__name:"BaseInputTextarea",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:r=>i("update:modelValue",r)}),s=r=>{const d=r.target;l.value.value=d.value};return(r,d)=>(h(),D(Ke,A({modelValue:l.value.value,"onUpdate:modelValue":d[0]||(d[0]=o=>l.value.value=o),"append-inner-icon":l.value.appendInnerIcon,"auto-grow":l.value.autoGrow,clearable:l.value.clearable,placeholder:l.value.placeholder,rows:l.value.rows,counter:l.value.counter,suffix:l.value.suffix,"max-rows":l.value.maxRows,type:l.value.type,"no-resize":l.value.noResize,value:l.value.value},r.$attrs,{"hide-details":"",onInput:s}),null,16,["modelValue","append-inner-icon","auto-grow","clearable","placeholder","rows","counter","suffix","max-rows","type","no-resize","value"]))}});class wl extends et{constructor(t){super(t),this.component=ne(gl),this.counter=!!(t!=null&&t.counter),this.maxRows=1e3,this.noResize=(t==null?void 0:t.noResize)??!0,this.rows=(t==null?void 0:t.rows)??5,this.autoGrow=(t==null?void 0:t.autoGrow)??!1}}const yl=e=>new wl(e);let Cl=class{constructor(t,a){this.isCustomInput=!0,this.allowValidate=!1,this.items=t,this.defaultItem=a}add(){this.items.push(C.cloneDeep(this.defaultItem))}addByData(t){const a=C.cloneDeep(this.defaultItem);Object.keys(t).forEach(i=>{a[i].value=t[i]}),this.items.push(a)}remove(t){this.items.splice(this.items.indexOf(t),1)}isValid(){var t,a;return((a=(t=this.items)==null?void 0:t.map(i=>Object.values(i).filter(l=>l.isCustomInput).every(l=>l.isValid())))==null?void 0:a.every(Boolean))||!1}set canValidate(t){this.allowValidate=t,this.items.forEach(a=>{C.forOwn(a,i=>{C.has(i,"allowValidate")&&(i.canValidate=t)})})}resetValue(){this.items.flat().forEach(t=>{C.forOwn(t,a=>{a.resetValue()})})}getValue(){return this.items.map(t=>Object.fromEntries(Object.entries(t).map(([a,i])=>C.has(i,"allowValidate")?[a,i==null?void 0:i.getValue()]:[a,i])))}getItemForCreate(){const t=C.cloneDeep(this.items[0]);return C.forOwn(t,a=>{a.resetValue()}),this.defaultItem||t}};const xl=(e,t)=>new Cl(e,t),kl=e=>({hint:(e==null?void 0:e.hint)||"",label:(e==null?void 0:e.label)||"",rules:(e==null?void 0:e.rules)||{},placeholder:(e==null?void 0:e.placeholder)||""});class tt extends Fe{constructor(t,a){super(kl(a)),this.allowValidate=!1,this.color="primary",this.component=ne(t),this.value=!!(a!=null&&a.value),this.appendIcon=(a==null?void 0:a.appendIcon)??null,this.prependIcon=(a==null?void 0:a.prependIcon)??null}set canValidate(t){this.allowValidate=t}getValue(){return this.value}isValid(){return this.allowValidate?this.inputValidator.isValid(this.getValue()):!0}getErrors(){return this.allowValidate?this.inputValidator.getErrors(this.getValue()):""}}const Sl=U({name:"BaseSwitchInput",__name:"BaseSwitchInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:s=>i("update:modelValue",s)});return(s,r)=>(h(),D(It,A({modelValue:l.value.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value.value=d),"append-icon":l.value.appendIcon,color:l.value.color},s.$attrs,{"hide-details":"",placeholder:l.value.placeholder,"prepend-icon-icon":l.value.prependIcon}),null,16,["modelValue","append-icon","color","placeholder","prepend-icon-icon"]))}}),$l=e=>new tt(Sl,e),_l=U({__name:"BaseCheckInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:s=>i("update:modelValue",s)});return(s,r)=>(h(),D(Ye,A({modelValue:l.value.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value.value=d),"append-icon":l.value.appendIcon,color:l.value.color},s.$attrs,{"hide-details":"",placeholder:l.value.placeholder,"prepend-icon-icon":l.value.prependIcon}),null,16,["modelValue","append-icon","color","placeholder","prepend-icon-icon"]))}}),Al=e=>new tt(_l,e);class oe{constructor(t){oe.instance||(this.inputs=t,oe.instance=this)}addInput(t){C.forOwn(t,(a,i)=>{oe.instance.inputs[i]=a})}getInputs(){return this.inputs}}const Fl=U({__name:"BaseSelect",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:s=>i("update:modelValue",s)});return(s,r)=>(h(),D(Ze,A({modelValue:l.value.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value.value=d),chips:l.value.chips,clearable:l.value.clearable,"hide-details":""},s.$attrs,{"item-title":l.value.itemTitle,"item-value":l.value.itemValue,items:l.value.options,multiple:l.value.multiple,placeholder:l.value.placeholder}),null,16,["modelValue","chips","clearable","item-title","item-value","items","multiple","placeholder"]))}});class Pl extends Fe{constructor(t){super({label:(t==null?void 0:t.label)||"",placeholder:(t==null?void 0:t.placeholder)||"",hint:(t==null?void 0:t.hint)||"",rules:t.rules}),this.component=ne(Fl),this.itemTitle="name",this.itemValue="id",this.allowValidate=!1,this.value=this.getInputValue(t),this.multiple=!!(t!=null&&t.multiple),this.clearable=!!(t!=null&&t.clearable),this.chips=!!(t!=null&&t.chips),this.options=t.options}getInputValue(t){return t.multiple&&!Array.isArray(t.value)?[]:t!=null&&t.value?Array.isArray(t.value)?t.value.map(({id:a})=>a):t.value.id:t!=null&&t.multiple?[]:""}getValue(){return this.value}isValid(){return this.allowValidate?this.inputValidator.isValid(this.getValue()):!0}getErrors(){return this.allowValidate?this.inputValidator.getErrors(this.getValue()):""}}const Bl=e=>new Pl(e),Dl={text:bl,textarea:yl,switch:$l,check:Al,list:xl,select:Bl},Rl=new oe(Dl),re=Rl.getInputs();var lt=(e=>(e.Home="mdi-home",e.Menu="mdi-menu",e.Close="mdi-close",e.Check="mdi-check",e.Delete="mdi-delete",e.Edit="mdi-pencil",e.Save="mdi-content-save",e.Search="mdi-magnify",e.Settings="mdi-cog",e.Info="mdi-information",e.Warning="mdi-alert",e.Error="mdi-alert-circle",e.Help="mdi-help-circle",e.Lightbulb="mdi-lightbulb",e.Power="mdi-power",e.Star="mdi-star",e.StarOutline="mdi-star-outline",e.StarHalf="mdi-star-half",e.ArrowUp="mdi-arrow-up",e.ArrowDown="mdi-arrow-down",e.ArrowLeft="mdi-arrow-left",e.ArrowRight="mdi-arrow-right",e.ChevronUp="mdi-chevron-up",e.ChevronDown="mdi-chevron-down",e.ChevronLeft="mdi-chevron-left",e.ChevronRight="mdi-chevron-right",e.Expand="mdi-arrow-expand",e.Collapse="mdi-arrow-collapse",e.Refresh="mdi-refresh",e.Facebook="mdi-facebook",e.Twitter="mdi-twitter",e.Instagram="mdi-instagram",e.LinkedIn="mdi-linkedin",e.GitHub="mdi-github",e.Google="mdi-google",e.YouTube="mdi-youtube",e.Reddit="mdi-reddit",e.WhatsApp="mdi-whatsapp",e.Slack="mdi-slack",e.Play="mdi-play",e.Pause="mdi-pause",e.Stop="mdi-stop",e.VolumeUp="mdi-volume-high",e.VolumeDown="mdi-volume-low",e.VolumeMute="mdi-volume-off",e.MusicNote="mdi-music-note",e.Headphones="mdi-headphones",e.Microphone="mdi-microphone",e.MicrophoneOff="mdi-microphone-off",e.Plus="mdi-plus",e.Minus="mdi-minus",e.Lock="mdi-lock",e.Unlock="mdi-lock-open",e.Eye="mdi-eye",e.EyeOff="mdi-eye-off",e.Filter="mdi-filter",e.Sort="mdi-sort",e.Copy="mdi-content-copy",e.Paste="mdi-content-paste",e.Cut="mdi-content-cut",e.Undo="mdi-undo",e.Redo="mdi-redo",e.Drag="mdi-drag",e.CheckCircle="mdi-check-circle",e.CloseCircle="mdi-close-circle",e.File="mdi-file",e.Folder="mdi-folder",e.FolderOpen="mdi-folder-open",e.Upload="mdi-upload",e.Download="mdi-download",e.FileDocument="mdi-file-document",e.FilePdf="mdi-file-pdf",e.FileExcel="mdi-file-excel",e.FileWord="mdi-file-word",e.FileImage="mdi-file-image",e.FileVideo="mdi-file-video",e.FileMusic="mdi-file-music",e.FileArchive="mdi-file-archive",e.Email="mdi-email",e.Phone="mdi-phone",e.Message="mdi-message",e.Chat="mdi-chat",e.Comment="mdi-comment",e.Bell="mdi-bell",e.BellOff="mdi-bell-off",e.Cart="mdi-cart",e.CartOutline="mdi-cart-outline",e.CreditCard="mdi-credit-card",e.Cash="mdi-cash",e.Tag="mdi-tag",e.Barcode="mdi-barcode",e.Receipt="mdi-receipt",e.Sale="mdi-sale",e.WeatherSunny="mdi-weather-sunny",e.WeatherRainy="mdi-weather-rainy",e.WeatherCloudy="mdi-weather-cloudy",e.WeatherSnowy="mdi-weather-snowy",e.WeatherWindy="mdi-weather-windy",e.WeatherLightning="mdi-weather-lightning",e.Car="mdi-car",e.Bike="mdi-bike",e.Bus="mdi-bus",e.Train="mdi-train",e.Airplane="mdi-airplane",e.Ship="mdi-ferry",e.Heart="mdi-heart",e.HeartOutline="mdi-heart-outline",e.HeartPulse="mdi-heart-pulse",e.Hospital="mdi-hospital",e.Stethoscope="mdi-stethoscope",e.Pill="mdi-pill",e.Bandage="mdi-bandage",e.Computer="mdi-desktop-classic",e.Laptop="mdi-laptop",e.Tablet="mdi-tablet",e.PhoneAndroid="mdi-cellphone-android",e.Watch="mdi-watch",e.Keyboard="mdi-keyboard",e.Monitor="mdi-monitor",e.Printer="mdi-printer",e.Cloud="mdi-cloud",e.Server="mdi-server",e.Calendar="mdi-calendar",e.Clock="mdi-clock",e.Map="mdi-map",e.Camera="mdi-camera",e.Compass="mdi-compass",e.Key="mdi-key",e.LightSwitch="mdi-light-switch",e.TrashCan="mdi-trash-can",e.Shield="mdi-shield",e.ShieldCheck="mdi-shield-check",e))(lt||{});const Tl={key:0},Ul={key:1},El=U({__name:"InputList",props:{modelValue:{},label:{},config:{},headerClass:{},rowClass:{},labelWrapperClass:{},btnAddWrapperClass:{},colsRemove:{default:1},onItemClass:{type:Function,default:()=>""},withHedeDivider:{type:Boolean,default:!0},withAnimation:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=t,l=V({get:()=>a.modelValue,set:p=>i("update:modelValue",p)}),s=V(()=>({label:"Add",color:ue.Primary,size:xe.Small,class:"text-white"})),r=V(()=>({label:"Remove",color:ue.Error,size:xe.Small,variant:me.Shaped})),d=p=>Object.keys(p).filter(y=>p[y].isCustomInput),o=V(()=>{var p,y;return!((y=(p=l.value)==null?void 0:p.items)!=null&&y.length)}),n=()=>{l.value.add()},m=p=>a==null?void 0:a.onItemClass(p),v=V(()=>a.withAnimation?"list":"");return(p,y)=>(h(),B("div",null,[k("div",{class:Q(["d-flex justify-space-between",p.headerClass])},[k("div",{class:Q(["label-wrapper",p.labelWrapperClass])},[N(p.$slots,"label",{label:p.label},()=>[q(H(p.label),1)],!0)],2),k("div",{class:Q(["btn-add-wrapper",p.btnAddWrapperClass])},[N(p.$slots,"btn-add",{addItem:n},()=>[u(Y,A(s.value,{onClick:y[0]||(y[0]=c=>n())}),{default:w(()=>[q(H(s.value.label),1)]),_:1},16)],!0)],2)],2),p.withHedeDivider?(h(),B("div",Tl,[u(qt)])):G("",!0),k("div",{class:Q({"test py-4":l.value.items.length})},[u(Rt,{name:v.value,tag:"div"},{default:w(()=>[(h(!0),B(X,null,Ue(l.value.items,(c,g)=>(h(),D(Ce,{key:g,class:Q(["d-flex justify-space-between",p.rowClass])},{default:w(()=>[(h(!0),B(X,null,Ue(d(c),(F,_)=>(h(),D(se,{key:_,class:Q(["flex items-center",m({input:c[F],key:F,index:_})])},{default:w(()=>[c[F].isCustomInput?(h(),D(b(ke),{key:`input-${g}`,modelValue:c[F],"onUpdate:modelValue":E=>c[F]=E},null,8,["modelValue","onUpdate:modelValue"])):G("",!0)]),_:2},1032,["class"]))),128)),u(se,{class:"d-flex align-center",cols:p.colsRemove},{default:w(()=>[N(p.$slots,"remove-btn",{removeItem:()=>{l.value.remove(c)}},()=>[u(Y,A({ref_for:!0},r.value,{icon:b(lt).TrashCan,onClick:F=>l.value.remove(c)}),null,16,["icon","onClick"])],!0)]),_:2},1032,["cols"])]),_:2},1032,["class"]))),128))]),_:3},8,["name"])],2),o.value?(h(),B("div",Ul,[N(p.$slots,"empty",{},void 0,!0)])):G("",!0)]))}}),Nl=Ge(El,[["__scopeId","data-v-ff0274ad"]]),je=(e={id:"",from:"",to:""})=>({id:(e==null?void 0:e.id)||"",from:re.text({value:(e==null?void 0:e.from)||"",label:"From",rules:{required:!0}}),to:re.text({value:(e==null?void 0:e.to)||"",label:"To",rules:{required:!0}})}),Se=Tt();class at{constructor(t){R(this,"id");R(this,"title");R(this,"description");R(this,"items");var a;this.id=(t==null?void 0:t.id)||"",this.title=re.text({value:t==null?void 0:t.title,label:"Title",rules:{required:!0}}),this.description=re.textarea({value:(t==null?void 0:t.description)||"-",label:"Description",rules:{required:!0}}),this.items=re.list(((a=t==null?void 0:t.items)==null?void 0:a.map(je))||[],je())}}class it extends at{constructor(a){var i;super(a);R(this,"userId");this.userId=((i=Se.user)==null?void 0:i.$id)||""}}class Ol extends it{constructor(a){super(a);R(this,"$id");R(this,"$permissions");R(this,"$createdAt");R(this,"$updatedAt");R(this,"$databaseId");R(this,"$collectionId");this.$id=a.$id,this.$permissions=a.$permissions,this.$createdAt=a.$createdAt,this.$updatedAt=a.$updatedAt,this.$databaseId=a.$databaseId,this.$collectionId=a.$collectionId}}const Ml=(e,t)=>Se.isAuthenticated&&t===O.Save?new Ol(e):Se.isAuthenticated&&t===O.Create?new it(e):new at(e),Ll={class:"py-4 px-4 bg-surface mb-4 elevation-1 rounded animated-container"},Wl={class:"mb-4"},jl={class:"mb-4 bg-surface pa-4 elevation-1 rounded"},zl={class:"text-h6 text-on-surface-variant"},Ql=U({__name:"DictionaryForm",props:{formData:{default:{}},modalId:{}},emits:["submit"],setup(e){const t=Ut(),a=Xt(),i=e,l=Et(),s=V(()=>{var o;return(o=i.formData)!=null&&o.id?O.Save:O.Create}),r=async o=>{if(!o.isValid)return;await(o.action===O.Create?l.createWithCloud:l.updateWithCloud)(o.value),t.push({name:Nt.Home})},d=(o,n)=>{o.forEach(([m,v])=>{n.addByData({from:m,to:v})}),a.hide(Ve.ImportWords)};return(o,n)=>(h(),D(b(il),{config:b(Ml)(o.formData,b(s)),params:{action:b(s)},onOnSubmit:r},{default:w(({form:m})=>[k("div",Ll,[k("div",Wl,[u(b(ke),{modelValue:m.title,"onUpdate:modelValue":v=>m.title=v},null,8,["modelValue","onUpdate:modelValue"])]),k("div",null,[u(b(ke),{modelValue:m.description,"onUpdate:modelValue":v=>m.description=v},null,8,["modelValue","onUpdate:modelValue"])])]),k("div",jl,[u(b(Zt),{id:b(Ve).ImportWords,title:"Import words"},{default:w(()=>[u(hl,{onSetWords:v=>d(v,m.items)},null,8,["onSetWords"])]),_:2},1032,["id"]),u(Nl,{modelValue:m.items,"onUpdate:modelValue":v=>m.items=v,label:"Dictionary","with-animation":""},{label:w(({label:v})=>[k("div",zl,H(v),1)]),"btn-add":w(({addItem:v})=>[k("div",null,[u(Y,{color:b(we).Primary,variant:b(ye).Text,onClick:n[0]||(n[0]=p=>b(a).show(b(Ve).ImportWords))},{default:w(()=>n[1]||(n[1]=[q(" Import ")])),_:1},8,["color","variant"]),u(Y,{class:"ml-4",color:b(we).Secondary,variant:b(ye).Text,onClick:v},{default:w(()=>n[2]||(n[2]=[q("Add")])),_:2},1032,["color","variant","onClick"])])]),empty:w(()=>n[3]||(n[3]=[k("div",{class:"text-h6 text-center"},"You can add words for dictionary",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:1},8,["config","params"]))}});export{Ql as _};
